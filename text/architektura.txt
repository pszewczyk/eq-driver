PRZYPADKI UŻYCIA

Zgodnie z opisaną wcześniej problematyką można wyróżnić kilka przypadków
użycia projektowanego systemu:

Śledzenie: użytkownik włącza tryb śledzenia w urządzeniu. Efektem powinno być
automatyczne śledzenie ruchu nieba.

Ręczna zmiana pozycji: użytkownik korzysta z przycisków pilota do ręcznej
korekcji pozycji montażu.

Kalibracja współrzędnych: użytkownik ręcznie ustawia montaż na znany sobie
obiekt (np. jasną gwiazdę), po czym zapisuje do urządzenia jego pozycję
w układzie współrzędnych równikowych równonocnych. Sterownik zapamiętuje
pozycję, w której się znajduje.

Ustawienie montażu w wybranej pozycji (GoTo): użytkownik ustawia pozycję
docelową montażu i ustawia sterownik w tryb GoTo. Sterownik rozpoczyna rotację
montażu w obu osiach w odpowiednich kierunkach.

Wyłączenie kontroli nad montażem: użytkownik wyłącza kontrolę silników nad
montażem.

STANY

Sterownik montażu może znajdować się w kilku stanach:

Śledzenie - tryb, w którym pozycja montażu zmienia się wraz z ruchem nieba.
Sterowniki silników skonfigurowane są w trybie pracy mikrokrokowej.

GoTo - tryb dążenia do pozycji docelowej. Silniki pracują w trybie pełnych
kroków. Po ustawieniu w odpowiedniej pozycji system przechodzi w tryb
śledzenia.

Manual - kierunek pracy silnika ustawiany jest ręcznie przez użytkownika.

OFF - silniki są wyłączone.

Z punktu widzenia użytkownika dwa z tych stanów, GOTO i MANUAL, wyróżniają się
tymczasowością. Sterownik nie powinien pozostawać w tych stanach długo,
a użytkownik nadzoruje wtedy pracę sterownika. Stany OFF i TRACKING są
natomiast przeznaczone do nieprzerwanej pracy przez dłuższy okres czasu (rzędu
godzin). Można więc przyjąć, że pierwsze dwa tryby pracy są "ręczne",
natomiast pozostałe dwa są "autonomiczne".

Istotne jest, żeby domyślnym trybem pracy urządzenia był jeden z trybów
autonomicznych, ponieważ ręczne tryby pracy bez nadzoru mogą narazić na
uszkodzenie sprzęt obserwacyjny.

Typową sytuacją jest pozostawienie ustawionego montażu na dłuższy czas w celu
zebrania pewnej ilości danych (np. ekspozycja zdjęcia). Jeśli w takim
scenariuszu tryb śledzenia zostanie z jakiegoś powodu przerwany, dalsze
zbieranie prawidłowych danych będzie niemożliwe do czasu reakcji użytkownika.
Dlatego w przypadku awarii takich jak chwilowa utrata zasilania, powodujących
ponowną inicjalizację systemu, urządzenie wejdzie w jeden z trybów
autonomicznych, który pozwoli na kontynuację samodzielnej pracy.

Zależnie od trybu pracy urządzenia inne będą ustawienia pracy silników. Tabela
przedstawia ustawienia dla poszczególnych trybów.

Tryb	RA	DEC	Długość kroku	Rozdzielczość mikrokroków

TRACKING 1	0	0.207s		1/16

GOTO	1	1	0.002s		1

MANUAL	1	1	0.02s		1/16

OFF	0	0

STRUKTURA OPROGRAMOWANIA

Oprogramowanie rozwiązania dzieli się na dwie zasadnicze części: sterownik
montażu i aplikację klienta na urządzenia mobilne.

STEROWNIK

Implementacja sterownika korzysta z bibliotek SDK dostarczonego przez Nordic
Semiconductors, które tworzą podstawową warstwę abstrakcji sprzętu.
